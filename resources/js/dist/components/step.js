// resources/js/components/step.js
function stepComponent({
  key,
  selector,
  requiresAction
}) {
  return {
    targetElement: null,
    scrollTimeout: null,
    // You can define any other Alpine.js properties here.
    initialize: function() {
      this.targetElement = this.findElement(key);
      this.configure();
      console.log("initialize");
      console.log("this.$el", this.$el);
      const dialog = this.$root.querySelector("[data-dialog]");
      console.log("dialogos", dialog);
      const clipPath = this.$root.querySelector("[data-clip-path]");
      console.log("clipPath", clipPath);
      console.log("requiresAction", requiresAction);
      if (requiresAction) {
        this.targetElement.addEventListener("click", (event) => {
          event.preventDefault();
          console.log("$wire", this.$wire.nextTutorialStep());
          this.targetElement.blur();
          const descendants = this.targetElement.querySelectorAll(":hover");
          for (let i = 0; i < descendants.length; i++) {
            const descendant = descendants[i];
            descendant.blur();
          }
        });
      }
      this.initializeDialog();
      this.$nextTick(() => {
        clipPath.setAttribute("d", this.clipPath());
        this.$dispatch("tutorial::render");
      });
      clipPath.setAttribute("d", this.clipPath());
    },
    timeouts: [],
    configure: function() {
      console.log("configure");
      console.log(this.targetElement.tagName);
      if (this.targetElement instanceof HTMLSelectElement) {
        if (this.targetElement.hasAttribute("data-choice")) {
          this.targetElement = this.targetElement.parentElement.parentElement;
          const dropdown = this.targetElement.querySelector(".choices__list.choices__list--dropdown");
          dropdown.style.zIndex = 100;
        }
      }
      if (this.targetElement.tagName === "TRIX-EDITOR") {
        this.timeouts["trix"] = this.targetElement.clientHeight;
        this.targetElement = this.targetElement.parentElement;
        console.log("is trix");
        const observer = new MutationObserver((mutationsList, observer2) => {
          console.log("resized");
          mutationsList.forEach((mutation) => {
            console.log("mutation", mutation);
            if (this.timeouts["trix"]) {
              clearTimeout(this.timeouts["trix"]);
            }
            this.timeouts["trix"] = setTimeout(() => {
              this.timeouts["trix"] = null;
              this.initialize();
            }, 500);
          });
        });
        const config = {
          attributes: true,
          attributeFilter: ["height"],
          childList: true,
          subtree: true
        };
        observer.observe(this.targetElement, config);
      }
      if (this.targetElement instanceof HTMLTextAreaElement || this.t) {
        console.log("is textarea");
        let initialWidth = this.targetElement.offsetWidth;
        let initialHeight = this.targetElement.offsetHeight;
        const observer = new MutationObserver(() => {
          if (this.targetElement.offsetWidth !== initialWidth || this.targetElement.offsetHeight !== initialHeight) {
            console.log("Textarea was resized.");
            initialWidth = this.targetElement.offsetWidth;
            initialHeight = this.targetElement.offsetHeight;
            if (this.timeouts["textarea"]) {
              clearTimeout(this.timeouts["textarea"]);
            }
            this.timeouts["textarea"] = setTimeout(() => {
              this.timeouts["textarea"] = null;
              this.initialize();
            }, 100);
          }
        });
        observer.observe(this.targetElement, { attributes: true, attributeFilter: ["style"] });
      }
    },
    // You can define any other Alpine.js functions here.
    initializeDialog: function(dialog = null) {
      if (!dialog) {
        dialog = this.$root.querySelector("[data-dialog]");
      }
      const dialogPath = dialog.querySelector("[data-dialog-path]");
      console.log("initializeDialog");
      const rect = this.elementRect();
      const stroke = dialog.querySelector("[data-dialog-stroke]");
      window.scrollTo({
        top: rect[0].y - window.innerHeight / 3,
        left: rect[0].x,
        behavior: "smooth"
      });
      const width = rect[1].x - rect[0].x;
      const height = rect[2].y - rect[0].y;
      console.log("IMPORTANT HERE");
      console.log("width", width);
      console.log("height", height);
      console.log("rect", rect);
      const x = rect[0].x;
      const y = rect[0].y;
      console.log("x", x);
      console.log("y", y);
      console.log("dialog", dialog);
      dialog.style.width = `${width}px`;
      dialog.style.transform = `translate(${x}px, ${y}px)`;
      stroke.style.height = `${height}px`;
      dialogPath.setAttribute("d", this.elementPath(null, { relative: true, positive: true }));
    },
    clipPath: function(element = null, options = {}) {
      element = element || this.targetElement;
      options = {
        radius: 24,
        margin: 10,
        offset: { x: 0, y: 0 },
        relative: false,
        ...options
      };
      return `${this.windowPath()} ${this.elementPath(element, options)}`.trim();
    },
    windowPath: function() {
      const documentHeight = Math.max(
        document.documentElement.clientHeight,
        document.documentElement.scrollHeight,
        document.documentElement.offsetHeight
      );
      let path = "M 0 0 ";
      path += "L 0 " + documentHeight + " ";
      path += "L " + window.innerWidth + " " + documentHeight + " ";
      path += "L " + window.innerWidth + " 0 ";
      path += "L 0 0 ";
      return path.trim();
    },
    findElement: function(name) {
      return document.querySelector(selector.replace(/\./g, "\\$&")) ?? document.querySelector(selector);
    },
    elementPath: function(element = null, options = {}) {
      element = element || this.targetElement;
      options = {
        radius: 24,
        margin: 10,
        offset: { x: 0, y: 0 },
        ...options
      };
      const rect = this.elementRect(element, {
        relative: false,
        ...options
      });
      let path = "";
      path += "M " + rect[0].x + " " + (rect[0].y + options.radius) + " ";
      path += "C " + rect[0].x + " " + rect[0].y + " " + rect[0].x + " " + rect[0].y + " " + (rect[0].x + options.radius) + " " + rect[0].y + " ";
      path += "L " + (rect[1].x - options.radius) + " " + rect[1].y + " ";
      path += "C " + rect[1].x + " " + rect[1].y + " " + rect[1].x + " " + rect[1].y + " " + rect[1].x + " " + (rect[1].y + options.radius) + " ";
      path += "L " + rect[2].x + " " + (rect[2].y - options.radius) + " ";
      path += "C " + rect[2].x + " " + rect[2].y + " " + rect[2].x + " " + rect[2].y + " " + (rect[2].x - options.radius) + " " + rect[2].y + " ";
      path += "L " + (rect[3].x + options.radius) + " " + rect[3].y + " ";
      path += "C " + rect[3].x + " " + rect[3].y + " " + rect[3].x + " " + rect[3].y + " " + rect[3].x + " " + (rect[3].y - options.radius) + " ";
      path += "L " + rect[0].x + " " + (rect[0].y + options.radius) + " ";
      return path.trim();
    },
    elementRect: function(element = null, options = {}) {
      element = element || this.targetElement;
      const bounds = element.getBoundingClientRect();
      console.log("bounds", bounds.left, bounds.top);
      console.log("offset", element.offsetLeft, element.offsetTop);
      options = {
        radius: 24,
        margin: 10,
        offset: { x: 0, y: 0 },
        relative: false,
        ...options
      };
      const left = options.relative ? 0 : bounds.left;
      const top = options.relative ? 0 : element.offsetTop;
      console.log("left/top", left, top);
      let result = [
        {
          x: left - options.margin + options.offset.x,
          y: top - options.margin + options.offset.y
        },
        {
          x: left + element.clientWidth + options.margin + options.offset.x,
          y: top - options.margin + options.offset.y
        },
        {
          x: left + element.clientWidth + options.margin + options.offset.x,
          y: top + element.clientHeight + options.margin + options.offset.y
        },
        {
          x: left - options.margin + options.offset.x,
          y: top + element.clientHeight + options.margin + options.offset.y
        }
      ];
      if (options.positive) {
        let minX = 0;
        let minY = 0;
        for (let i = 0; i < result.length; i++) {
          if (result[i].x < minX) {
            minX = result[i].x;
          }
          if (result[i].y < minY) {
            minY = result[i].y;
          }
        }
        for (let i = 0; i < result.length; i++) {
          result[i].x -= minX;
          result[i].y -= minY;
        }
      }
      return result;
    }
  };
}
export {
  stepComponent as default
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vY29tcG9uZW50cy9zdGVwLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIvLyBJbXBvcnQgYW55IGV4dGVybmFsIEphdmFTY3JpcHQgbGlicmFyaWVzIGZyb20gTlBNIGhlcmUuXG4vLyBpbXBvcnQgTW91c2V0cmFwIGZyb20gJ21vdXNldHJhcCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHN0ZXBDb21wb25lbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlc0FjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHRhcmdldEVsZW1lbnQ6IG51bGwsXG4gICAgICAgIHNjcm9sbFRpbWVvdXQ6IG51bGwsXG4gICAgICAgIC8vIFlvdSBjYW4gZGVmaW5lIGFueSBvdGhlciBBbHBpbmUuanMgcHJvcGVydGllcyBoZXJlLlxuXG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCAoKSA9PiB7XG4gICAgICAgICAgICAvLyAgICAgaWYgKHRoaXMuc2Nyb2xsVGltZW91dCkge1xuICAgICAgICAgICAgLy8gICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5zY3JvbGxUaW1lb3V0KTtcbiAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICAgIHRoaXMuc2Nyb2xsVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgLy8gICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgICAgICAgICAgIC8vICAgICB9LCAxMDApO1xuICAgICAgICAgICAgLy8gfSk7XG4gICAgICAgICAgICB0aGlzLnRhcmdldEVsZW1lbnQgPSB0aGlzLmZpbmRFbGVtZW50KGtleSk7XG5cbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJlKCk7XG5cbiAgICAgICAgICAgIC8vIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2luaXRpYWxpemUnKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0aGlzLiRlbCcsIHRoaXMuJGVsKTtcbiAgICAgICAgICAgIGNvbnN0IGRpYWxvZyA9IHRoaXMuJHJvb3QucXVlcnlTZWxlY3RvcignW2RhdGEtZGlhbG9nXScpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2RpYWxvZ29zJywgZGlhbG9nKTtcbiAgICAgICAgICAgIGNvbnN0IGNsaXBQYXRoID0gdGhpcy4kcm9vdC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jbGlwLXBhdGhdJyk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnY2xpcFBhdGgnLCBjbGlwUGF0aCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygncmVxdWlyZXNBY3Rpb24nLCByZXF1aXJlc0FjdGlvbik7XG5cbiAgICAgICAgICAgIGlmIChyZXF1aXJlc0FjdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJyR3aXJlJywgdGhpcy4kd2lyZS5uZXh0VHV0b3JpYWxTdGVwKCkpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0RWxlbWVudC5ibHVyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlc2NlbmRhbnRzID0gdGhpcy50YXJnZXRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCI6aG92ZXJcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXNjZW5kYW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVzY2VuZGFudCA9IGRlc2NlbmRhbnRzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY2VuZGFudC5ibHVyKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplRGlhbG9nKCk7XG5cbiAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgIGNsaXBQYXRoLnNldEF0dHJpYnV0ZSgnZCcsIHRoaXMuY2xpcFBhdGgoKSk7XG4gICAgICAgICAgICB0aGlzLiRkaXNwYXRjaCgndHV0b3JpYWw6OnJlbmRlcicpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNsaXBQYXRoLnNldEF0dHJpYnV0ZSgnZCcsIHRoaXMuY2xpcFBhdGgoKSk7XG4gICAgICAgICAgICAvLyB9LCAxKTtcbiAgICAgICAgfSxcblxuICAgICAgICB0aW1lb3V0czogW10sXG5cbiAgICAgICAgY29uZmlndXJlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnY29uZmlndXJlJyk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnRhcmdldEVsZW1lbnQudGFnTmFtZSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldEVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MU2VsZWN0RWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldEVsZW1lbnQuaGFzQXR0cmlidXRlKCdkYXRhLWNob2ljZScpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0RWxlbWVudCA9IHRoaXMudGFyZ2V0RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRyb3Bkb3duID0gdGhpcy50YXJnZXRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaG9pY2VzX19saXN0LmNob2ljZXNfX2xpc3QtLWRyb3Bkb3duJyk7XG4gICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duLnN0eWxlLnpJbmRleCA9IDEwMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldEVsZW1lbnQudGFnTmFtZSA9PT0gJ1RSSVgtRURJVE9SJykge1xuICAgICAgICAgICAgICAgIHRoaXMudGltZW91dHNbJ3RyaXgnXSA9IHRoaXMudGFyZ2V0RWxlbWVudC5jbGllbnRIZWlnaHQ7XG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXRFbGVtZW50ID0gdGhpcy50YXJnZXRFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2lzIHRyaXgnKTtcblxuXG4gICAgICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zTGlzdCwgb2JzZXJ2ZXIpID0+IHtcblxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncmVzaXplZCcpO1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmluaXRpYWxpemUoKTtcbiAgICAgICAgICAgICAgICAgICAgbXV0YXRpb25zTGlzdC5mb3JFYWNoKChtdXRhdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ211dGF0aW9uJywgbXV0YXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGV0IGhlaWdodCA9IG11dGF0aW9uLnRhcmdldC5jbGllbnRIZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIChoZWlnaHQgIT0gdGhpcy50aW1lb3V0c1sndHJpeC1oZWlnaHQnXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRoaXMudGltZW91dHNbJ3RyaXgtaGVpZ2h0J10gPSBoZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50aW1lb3V0c1sndHJpeCddKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRzWyd0cml4J10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGltZW91dHNbJ3RyaXgnXSA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbWVvdXRzWyd0cml4J10gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgaWYgKG11dGF0aW9uLnR5cGUgPT09ICdhdHRyaWJ1dGVzJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBpZiAobXV0YXRpb24uYXR0cmlidXRlTmFtZSA9PT0gJ3dpZHRoJyB8fCBtdXRhdGlvbi5hdHRyaWJ1dGVOYW1lID09PSAnaGVpZ2h0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gbXV0YXRpb24udGFyZ2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgY29uc3QgbmV3V2lkdGggPSB0YXJnZXQub2Zmc2V0V2lkdGg7IC8vIG9yIHRhcmdldC5zdHlsZS53aWR0aFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgY29uc3QgbmV3SGVpZ2h0ID0gdGFyZ2V0Lm9mZnNldEhlaWdodDsgLy8gb3IgdGFyZ2V0LnN0eWxlLmhlaWdodFxuICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBXaWR0aCBjaGFuZ2VkIHRvOiAke25ld1dpZHRofWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgY29uc29sZS5sb2coYEhlaWdodCBjaGFuZ2VkIHRvOiAke25ld0hlaWdodH1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBjb25maWcgPSB7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZUZpbHRlcjogWydoZWlnaHQnXSxcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBzdWJ0cmVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHRoaXMudGFyZ2V0RWxlbWVudCwgY29uZmlnKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy50YXJnZXRFbGVtZW50IGluc3RhbmNlb2YgSFRNTFRleHRBcmVhRWxlbWVudCB8fCB0aGlzLnQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnaXMgdGV4dGFyZWEnKTtcbiAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIGluaXRpYWwgc2l6ZSBvZiB0aGUgdGV4dGFyZWFcbiAgICAgICAgICAgICAgICBsZXQgaW5pdGlhbFdpZHRoID0gdGhpcy50YXJnZXRFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgICAgICAgICAgICAgIGxldCBpbml0aWFsSGVpZ2h0ID0gdGhpcy50YXJnZXRFbGVtZW50Lm9mZnNldEhlaWdodDtcblxuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIE11dGF0aW9uT2JzZXJ2ZXIgdG8gbW9uaXRvciBzaXplIGNoYW5nZXNcbiAgICAgICAgICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudGFyZ2V0RWxlbWVudC5vZmZzZXRXaWR0aCAhPT0gaW5pdGlhbFdpZHRoIHx8IHRoaXMudGFyZ2V0RWxlbWVudC5vZmZzZXRIZWlnaHQgIT09IGluaXRpYWxIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUZXh0YXJlYSB3YXMgcmVzaXplZC4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxXaWR0aCA9IHRoaXMudGFyZ2V0RWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxIZWlnaHQgPSB0aGlzLnRhcmdldEVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50aW1lb3V0c1sndGV4dGFyZWEnXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRzWyd0ZXh0YXJlYSddKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lb3V0c1sndGV4dGFyZWEnXSA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGltZW91dHNbJ3RleHRhcmVhJ10gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gU3RhcnQgb2JzZXJ2aW5nIGNoYW5nZXMgaW4gdGhlIHRleHRhcmVhIGVsZW1lbnRcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHRoaXMudGFyZ2V0RWxlbWVudCwge2F0dHJpYnV0ZXM6IHRydWUsIGF0dHJpYnV0ZUZpbHRlcjogWydzdHlsZSddfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIC8vIFlvdSBjYW4gZGVmaW5lIGFueSBvdGhlciBBbHBpbmUuanMgZnVuY3Rpb25zIGhlcmUuXG5cbiAgICAgICAgaW5pdGlhbGl6ZURpYWxvZzogZnVuY3Rpb24gKGRpYWxvZyA9IG51bGwpIHtcbiAgICAgICAgICAgIGlmICghZGlhbG9nKSB7XG4gICAgICAgICAgICAgICAgZGlhbG9nID0gdGhpcy4kcm9vdC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kaWFsb2ddJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBkaWFsb2dQYXRoID0gZGlhbG9nLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRpYWxvZy1wYXRoXScpO1xuXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnaW5pdGlhbGl6ZURpYWxvZycpO1xuICAgICAgICAgICAgY29uc3QgcmVjdCA9IHRoaXMuZWxlbWVudFJlY3QoKTtcbiAgICAgICAgICAgIC8vIGNvbnN0IGhlYWRlciA9IGRpYWxvZy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kaWFsb2ctaGVhZGVyXScpO1xuICAgICAgICAgICAgY29uc3Qgc3Ryb2tlID0gZGlhbG9nLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRpYWxvZy1zdHJva2VdJyk7XG5cbiAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbyh7XG4gICAgICAgICAgICAgICAgdG9wOiByZWN0WzBdLnkgLSAod2luZG93LmlubmVySGVpZ2h0IC8gMyksXG4gICAgICAgICAgICAgICAgbGVmdDogcmVjdFswXS54LFxuICAgICAgICAgICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gcmVjdFsxXS54IC0gcmVjdFswXS54O1xuICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gcmVjdFsyXS55IC0gcmVjdFswXS55O1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0lNUE9SVEFOVCBIRVJFJyk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnd2lkdGgnLCB3aWR0aCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnaGVpZ2h0JywgaGVpZ2h0KTtcbiAgICAgICAgICAgIC8vIHZhciB5MSA9IGhlYWRlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XG4gICAgICAgICAgICAvLyB2YXIgeTIgPSBzdHJva2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuXG4gICAgICAgICAgICAvLyB2YXIgZGlzdGFuY2UgPSB5MiAtIHkxO1xuXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnZGlzdGFuY2UnLCBkaXN0YW5jZSwgeTIsIHkxKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZWN0JywgcmVjdCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHggPSByZWN0WzBdLng7XG4gICAgICAgICAgICBjb25zdCB5ID0gcmVjdFswXS55O1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3gnLCB4KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd5JywgeSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZGlhbG9nJywgZGlhbG9nKTtcbiAgICAgICAgICAgIC8vIGRpYWxvZyA9IHRoaXMuJHJvb3QucXVlcnlTZWxlY3RvcignW2RhdGEtZGlhbG9nXScpO1xuICAgICAgICAgICAgZGlhbG9nLnN0eWxlLndpZHRoID0gYCR7d2lkdGh9cHhgO1xuICAgICAgICAgICAgZGlhbG9nLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHt4fXB4LCAke3l9cHgpYDtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdEZWxheWVkIGRpYWxvZycsIGRpYWxvZyk7XG5cbiAgICAgICAgICAgIC8vIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWRpYWxvZ10nKS5mb3JFYWNoKChkaWFsb2cpID0+IHtcbiAgICAgICAgICAgIC8vICAgIGRpYWxvZy5yZW1vdmUoKTtcbiAgICAgICAgICAgIC8vIH0pO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3NlbGYuJHJvb3QnLCBzZWxmLiRyb290KTtcbiAgICAgICAgICAgIC8vIHNlbGYuJHJvb3QuYXBwZW5kQ2hpbGQoZGlhbG9nKTtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzb21ldGhpbmcnKSk7XG4gICAgICAgICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc29tZXRoaW5nJykuYXBwZW5kQ2hpbGQoZGlhbG9nKTtcbiAgICAgICAgICAgIC8vIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGlhbG9nKTtcbiAgICAgICAgICAgIC8vIH0sIDEwMDApO1xuICAgICAgICAgICAgc3Ryb2tlLnN0eWxlLmhlaWdodCA9IGAke2hlaWdodH1weGA7XG5cbiAgICAgICAgICAgIGRpYWxvZ1BhdGguc2V0QXR0cmlidXRlKCdkJywgdGhpcy5lbGVtZW50UGF0aChudWxsLCB7cmVsYXRpdmU6IHRydWUsIHBvc2l0aXZlOiB0cnVlfSkpXG4gICAgICAgIH0sXG5cbiAgICAgICAgY2xpcFBhdGg6IGZ1bmN0aW9uIChlbGVtZW50ID0gbnVsbCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgICAgICBlbGVtZW50ID0gZWxlbWVudCB8fCB0aGlzLnRhcmdldEVsZW1lbnQ7XG4gICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIHJhZGl1czogMjQsXG4gICAgICAgICAgICAgICAgbWFyZ2luOiAxMCxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IHt4OiAwLCB5OiAwfSxcbiAgICAgICAgICAgICAgICByZWxhdGl2ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgLi4ub3B0aW9uc1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGAke3RoaXMud2luZG93UGF0aCgpfSAke3RoaXMuZWxlbWVudFBhdGgoZWxlbWVudCwgb3B0aW9ucyl9YC50cmltKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgd2luZG93UGF0aDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc3QgZG9jdW1lbnRIZWlnaHQgPSBNYXRoLm1heChcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LFxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQsXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldEhlaWdodCxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIC8vIFRPRE86IGFkZCBvcHRpb24gdG8gc2VsZWN0IGNsb2Nrd2lzZSAvY291bnRlciBjbG9ja3dpc2VcbiAgICAgICAgICAgIC8vTSAwIDggQyAwIDAgMCAwIDggMCBMIDM4IDAgQyA0NiAwIDQ2IDAgNDYgOCBDIDQ2IDE2IDQ2IDE2IDM4IDE2IEwgOCAxNiBDIDAgMTYgMCAxNiAwIDhcbiAgICAgICAgICAgIGxldCBwYXRoID0gJ00gMCAwICc7XG4gICAgICAgICAgICBwYXRoICs9ICdMIDAgJyArIGRvY3VtZW50SGVpZ2h0ICsgJyAnO1xuICAgICAgICAgICAgcGF0aCArPSAnTCAnICsgd2luZG93LmlubmVyV2lkdGggKyAnICcgKyBkb2N1bWVudEhlaWdodCArICcgJztcbiAgICAgICAgICAgIHBhdGggKz0gJ0wgJyArIHdpbmRvdy5pbm5lcldpZHRoICsgJyAwICc7XG4gICAgICAgICAgICBwYXRoICs9ICdMIDAgMCAnO1xuXG4gICAgICAgICAgICByZXR1cm4gcGF0aC50cmltKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZmluZEVsZW1lbnQ6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvci5yZXBsYWNlKC9cXC4vZywgJ1xcXFwkJicpKVxuICAgICAgICAgICAgICAgID8/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGVsZW1lbnRQYXRoOiBmdW5jdGlvbiAoZWxlbWVudCA9IG51bGwsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQgfHwgdGhpcy50YXJnZXRFbGVtZW50O1xuICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICByYWRpdXM6IDI0LFxuICAgICAgICAgICAgICAgIG1hcmdpbjogMTAsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiB7eDogMCwgeTogMH0sXG4gICAgICAgICAgICAgICAgLi4ub3B0aW9uc1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVjdCA9IHRoaXMuZWxlbWVudFJlY3QoZWxlbWVudCwge1xuICAgICAgICAgICAgICAgIHJlbGF0aXZlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGxldCBwYXRoID0gJyc7XG4gICAgICAgICAgICBwYXRoICs9ICdNICcgKyByZWN0WzBdLnggKyAnICcgKyAocmVjdFswXS55ICsgb3B0aW9ucy5yYWRpdXMpICsgJyAnO1xuICAgICAgICAgICAgcGF0aCArPSAnQyAnICsgcmVjdFswXS54ICsgJyAnICsgcmVjdFswXS55ICsgJyAnICsgcmVjdFswXS54ICsgJyAnICsgcmVjdFswXS55ICsgJyAnICsgKHJlY3RbMF0ueCArIG9wdGlvbnMucmFkaXVzKSArICcgJyArIHJlY3RbMF0ueSArICcgJztcbiAgICAgICAgICAgIHBhdGggKz0gJ0wgJyArIChyZWN0WzFdLnggLSBvcHRpb25zLnJhZGl1cykgKyAnICcgKyByZWN0WzFdLnkgKyAnICc7XG4gICAgICAgICAgICBwYXRoICs9ICdDICcgKyByZWN0WzFdLnggKyAnICcgKyByZWN0WzFdLnkgKyAnICcgKyByZWN0WzFdLnggKyAnICcgKyByZWN0WzFdLnkgKyAnICcgKyByZWN0WzFdLnggKyAnICcgKyAocmVjdFsxXS55ICsgb3B0aW9ucy5yYWRpdXMpICsgJyAnO1xuICAgICAgICAgICAgcGF0aCArPSAnTCAnICsgcmVjdFsyXS54ICsgJyAnICsgKHJlY3RbMl0ueSAtIG9wdGlvbnMucmFkaXVzKSArICcgJztcbiAgICAgICAgICAgIHBhdGggKz0gJ0MgJyArIHJlY3RbMl0ueCArICcgJyArIHJlY3RbMl0ueSArICcgJyArIHJlY3RbMl0ueCArICcgJyArIHJlY3RbMl0ueSArICcgJyArIChyZWN0WzJdLnggLSBvcHRpb25zLnJhZGl1cykgKyAnICcgKyByZWN0WzJdLnkgKyAnICc7XG4gICAgICAgICAgICBwYXRoICs9ICdMICcgKyAocmVjdFszXS54ICsgb3B0aW9ucy5yYWRpdXMpICsgJyAnICsgcmVjdFszXS55ICsgJyAnO1xuICAgICAgICAgICAgcGF0aCArPSAnQyAnICsgcmVjdFszXS54ICsgJyAnICsgcmVjdFszXS55ICsgJyAnICsgcmVjdFszXS54ICsgJyAnICsgcmVjdFszXS55ICsgJyAnICsgcmVjdFszXS54ICsgJyAnICsgKHJlY3RbM10ueSAtIG9wdGlvbnMucmFkaXVzKSArICcgJztcbiAgICAgICAgICAgIC8vIHBhdGggKz0gJ1onO1xuICAgICAgICAgICAgcGF0aCArPSAnTCAnICsgcmVjdFswXS54ICsgJyAnICsgKHJlY3RbMF0ueSArIG9wdGlvbnMucmFkaXVzKSArICcgJztcblxuICAgICAgICAgICAgcmV0dXJuIHBhdGgudHJpbSgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGVsZW1lbnRSZWN0OiBmdW5jdGlvbiAoZWxlbWVudCA9IG51bGwsIG9wdGlvbnMgPSB7fSkge1xuXG4gICAgICAgICAgICBlbGVtZW50ID0gZWxlbWVudCB8fCB0aGlzLnRhcmdldEVsZW1lbnQ7XG4gICAgICAgICAgICBjb25zdCBib3VuZHMgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2JvdW5kcycsIGJvdW5kcy5sZWZ0LCBib3VuZHMudG9wKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdvZmZzZXQnLCBlbGVtZW50Lm9mZnNldExlZnQsIGVsZW1lbnQub2Zmc2V0VG9wKTtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgcmFkaXVzOiAyNCxcbiAgICAgICAgICAgICAgICBtYXJnaW46IDEwLFxuICAgICAgICAgICAgICAgIG9mZnNldDoge3g6IDAsIHk6IDB9LFxuICAgICAgICAgICAgICAgIHJlbGF0aXZlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsZWZ0ID0gb3B0aW9ucy5yZWxhdGl2ZSA/IDAgOiBib3VuZHMubGVmdDtcbiAgICAgICAgICAgIGNvbnN0IHRvcCA9IG9wdGlvbnMucmVsYXRpdmUgPyAwIDogZWxlbWVudC5vZmZzZXRUb3A7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnbGVmdC90b3AnLCBsZWZ0LCB0b3ApO1xuXG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgeDogbGVmdCAtIG9wdGlvbnMubWFyZ2luICsgb3B0aW9ucy5vZmZzZXQueCxcbiAgICAgICAgICAgICAgICAgICAgeTogdG9wIC0gb3B0aW9ucy5tYXJnaW4gKyBvcHRpb25zLm9mZnNldC55XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHg6IGxlZnQgKyBlbGVtZW50LmNsaWVudFdpZHRoICsgb3B0aW9ucy5tYXJnaW4gKyBvcHRpb25zLm9mZnNldC54LFxuICAgICAgICAgICAgICAgICAgICB5OiB0b3AgLSBvcHRpb25zLm1hcmdpbiArIG9wdGlvbnMub2Zmc2V0LnlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgeDogbGVmdCArIGVsZW1lbnQuY2xpZW50V2lkdGggKyBvcHRpb25zLm1hcmdpbiArIG9wdGlvbnMub2Zmc2V0LngsXG4gICAgICAgICAgICAgICAgICAgIHk6IHRvcCArIGVsZW1lbnQuY2xpZW50SGVpZ2h0ICsgb3B0aW9ucy5tYXJnaW4gKyBvcHRpb25zLm9mZnNldC55XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHg6IGxlZnQgLSBvcHRpb25zLm1hcmdpbiArIG9wdGlvbnMub2Zmc2V0LngsXG4gICAgICAgICAgICAgICAgICAgIHk6IHRvcCArIGVsZW1lbnQuY2xpZW50SGVpZ2h0ICsgb3B0aW9ucy5tYXJnaW4gKyBvcHRpb25zLm9mZnNldC55XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMucG9zaXRpdmUpIHtcbiAgICAgICAgICAgICAgICBsZXQgbWluWCA9IDA7XG4gICAgICAgICAgICAgICAgbGV0IG1pblkgPSAwO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdFtpXS54IDwgbWluWCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWluWCA9IHJlc3VsdFtpXS54O1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdFtpXS55IDwgbWluWSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWluWSA9IHJlc3VsdFtpXS55O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2ldLnggLT0gbWluWDtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2ldLnkgLT0gbWluWTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICB9XG59Il0sCiAgIm1hcHBpbmdzIjogIjtBQUdlLFNBQVIsY0FBK0I7QUFBQSxFQUNJO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFDSixHQUFHO0FBQ3JDLFNBQU87QUFBQSxJQUNILGVBQWU7QUFBQSxJQUNmLGVBQWU7QUFBQTtBQUFBLElBR2YsWUFBWSxXQUFZO0FBVXBCLFdBQUssZ0JBQWdCLEtBQUssWUFBWSxHQUFHO0FBRXpDLFdBQUssVUFBVTtBQUdmLGNBQVEsSUFBSSxZQUFZO0FBQ3hCLGNBQVEsSUFBSSxZQUFZLEtBQUssR0FBRztBQUNoQyxZQUFNLFNBQVMsS0FBSyxNQUFNLGNBQWMsZUFBZTtBQUN2RCxjQUFRLElBQUksWUFBWSxNQUFNO0FBQzlCLFlBQU0sV0FBVyxLQUFLLE1BQU0sY0FBYyxrQkFBa0I7QUFDNUQsY0FBUSxJQUFJLFlBQVksUUFBUTtBQUNoQyxjQUFRLElBQUksa0JB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
